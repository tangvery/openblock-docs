# 使用

1、打开界面，安装完之后，打开网页（推荐使用谷歌浏览器），如图：

![pic1](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/pic1-16352347182001.jpg)

2、点击加号，新建模块

![image-20211026102336411](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026102336411-16352347355322.png)

3、点击下拉箭头、选择新建状态机

![image-20211026102540534](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026102540534.png)

![image-20211026102803237](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026102803237.png)

4、进入编程界面：点击“状态”按钮

![image-20211026103114598](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026103114598.png)

![image-20211026103135641](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026103135641.png)

# 案例一：显示一段文字

1、拖动“事件”中的“开始”按钮，放到编程区：

![image-20211026112736857](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026112736857.png)

2、设置文字的颜色（可选项）：

	拖动“画板”中的“设置填充颜色”模块到编程区

![image-20211026112852098](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026112852098.png)

	拖动“颜色”模块下的颜色设置模块到编程区，并且单击色卡，选择自己要设定的颜色

![image-20211026113020083](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026113020083.png)

3、设定文字大小及字体（可选项）：

	拖动“画板”中的“设置字体”到编程区域

![image-20211026113351220](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026113351220.png)

	设定具体字体和大小：拖动“文字”里面的“文本框”到编程区域，并且填写文字的大小和字体（字体需要本机有该字体）

![image-20211026113656258](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026113656258.png)

4、设置要显示的文字

拖动“画板”中的“绘制实心文字”模块到编程区域

![image-20211026113952680](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026113952680.png)

设置要显示的文字，拖动“文字”中的“文本框”到编程区域，并且输入自己想要显示的文字。

![image-20211026114156688](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026114156688.png)

设定显示区域：

	拖动“数字”中的“整数”模块到指定区域，并且设定相应参数（提醒大家：文字所在的坐标体系是以第一个字符的底部为起始点）

![image-20211026114518752](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026114518752.png)

5、仿真运行：

点击左上方的运行按钮，便可以看到预览器里的仿真结果。

![image-20211026114816151](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026114816151.png)

6、保存文件

点击左上角的”逻辑“按钮，退回到逻辑界面，选择右上角的”下载“按钮，便可以将文件存到本地指定文件夹中；

![image-20211026115037954](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026115037954.png)

7、打开已经编辑好的文件

	点击“逻辑”按钮，回到“逻辑”页面，选择“导入模块”按钮，选择本地相应的文件，点击打开即可。

![image-20211026115309650](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026115309650.png)

# 案例二：门（有限状态机概念的理解）

**在OpenBlock中，有限状态机的概念应用非常广泛，为了便于大家理解，我们在这里以门为例，进行学习。**

在生活中，门只有两种状态，**开和关**；我们用OpenBlock可以如下表示：

### 1、新建两个状态机

![image-20211026144703451](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026144703451.png)

### 2、修改状态机名称

单击状态机右侧的”重命名“按钮，会弹出重命名窗口，然后重命名。

![image-20211026144814331](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026144814331.png)

![image-20211026144943285](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026144943285.png)

### 3、设置门的状态

我们修改好“门”状态机，那么就可以设置门的状态了，门只有两种状态，那么我们就在“门”状态机下建两种状态，分别为“开”和“关”，如下图：

#### 	3.1 新建状态机

点击“门”状态机下的“新建状态”（可以理解为给该状态机新建不同的状态），由于是默认的会建立一个状态，在这里我们只需要再新建一个，就会有两种状态，如下图：

![image-20211026145501884](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026145501884.png)

![image-20211026145916630](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026145916630.png)

#### 3.2  修改状态名称

点击每种状态后面的“重命名”按钮，给状态重命名：

![image-20211026150011533](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026150011533.png)

最后的结果如下：

![image-20211026150102445](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026150102445.png)

此时，“门”状态机的“开”和“关”两种状态均已建立完

### 4、给状态机的每种状态编程

状态机的每种状态都是受程序控制的，所以需要给每种状态编写程序

#### 4.1 给“开”编写程序

点击状态机的“开”状态，进入到编程界面；编写如下程序：

![image-20211026150931098](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026150931098.png)

注意：我们的功能是实现：每次点击实现”门“的状态在”关“、”开“之间不断转换；所以，在程序中需要加入一个”点击“后转换为”关“的事件。这里的”关“是和”门“的状态一一对应的，只能点击下拉菜单进行选择，不能输入。



#### 4.2 切换到“逻辑”界面

在这里切换回“逻辑”界面，目的是为了给下一个状态编程；点击左上角的“逻辑”按钮，切回到逻辑界面：

![image-20211026151653544](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026151653544.png)

#### 4.3给“关”编写程序

点击状态机的“关”状态，进入到编程界面；编写如下程序：

![image-20211026151410311](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026151410311.png)

### 5、给主状态机编程

刚才我们是给“门”状态机进行了编程，但是在主状态机里面没有调用，也是没有办法使用的，下面我们给主状态机进行编程：

5.1 返回“逻辑”界面

5.2 单击：Main状态机的“状态”按钮（提醒大家：主状态机的名字Main是不能修改的，否则会运行错误）

![image-20211026152028251](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026152028251.png)



5.3 将“局部变量”中的“创建局部变量”模块拖入编程区

![image-20211026152314665](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026152314665.png)

5.4 将“状态机控制”中的“创建状态机”模块拖入到编程区，并且点击下拉菜单选择“Start.门”

![image-20211026152531234](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026152531234.png)

这一步的目的是为了设置“门”的初始化。由于这里的“门”变量在后面的程序中并没有被使用，所以，可以随意命名。![image-20211026152840589](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026152840589.png)

### 6、运行，观察并理解状态机的概念。运行结果如下：

![image-20211026152948096](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026152948096.png)

点击后会变成如下：

![image-20211026153013200](OpenBlock%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.assets/image-20211026153013200.png)



作者：
[向金](https://gitee.com/jdfxrobot_xiangjin)

维护者：
[duzc2](gitee.com/duzc2)

